"use strict";var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Super=function(){function e(){_classCallCheck(this,e),this.event={},this.eventOne={}}return _createClass(e,[{key:"_bind",value:function(e,n,t){var i=t[e];i||(i=[],t[e]=i),i.push(n)}},{key:"_cancel",value:function(e,n,t){var i=t[e];i&&(n&&n>=1?i.splice(n-1,1,function(){}):i.length=0)}},{key:"_cancelAll",value:function(e){Object.keys(e).forEach(function(n){e[n].length=0})}},{key:"_trigger",value:function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=t[e];c&&(c.forEach(function(e){e(n)}),i&&(c.length=0))}},{key:"on",value:function(e,n){this._bind(e,n,this.event)}},{key:"one",value:function(e,n){this._bind(e,n,this.eventOne)}},{key:"off",value:function(e,n){e?(this._cancel(e,n,this.event),this._cancel(e,n,this.eventOne)):(this._cancelAll(this.event),this._cancelAll(this.eventOne))}},{key:"emit",value:function(e,n){this._trigger(e,n,this.event),this._trigger(e,n,this.eventOne,!0)}}]),e}();module.exports=new Super;